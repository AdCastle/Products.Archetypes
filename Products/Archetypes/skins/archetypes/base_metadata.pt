<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US"
      lang="en-US"
      metal:use-macro="here/main_template/macros/master"
      i18n:domain="plone">
<body>

   <div metal:fill-slot="main" 
        tal:define="rejection here/rejectAnonymous;
                    errors python:request.get('errors', {});
                    Iterator python:modules['Products.CMFPlone'].IndexIterator;
                    tabindex python:Iterator();">

      <h1 i18n:translate="heading_edit_properties">Edit Properties</h1>

      <form class="group"
	    name="edit_form"
	    method="post" 
	    enctype="multipart/form-data"
	    tal:attributes="action request/URL"
	>

<!--	
 	<div tal:condition="errors" class="error">
          <div tal:repeat="error errors/keys">
           <strong tal:content="error">Field</strong>: <span tal:replace="python:errors[error]" />
	  </div> 
	</div>
-->

	  <span class="legend" i18n:translate="legend_item_properties">Item Properties</span>
	  
	  <div tal:repeat="field python: here.Schema().filterFields(isMetadata=1)">
	    <span metal:use-macro="python: here.widget(field.name, mode='edit')"/>
	  </div>
	  
	  <input type="hidden" name="form_submitted" tal:attributes="value template/id" />
	    	    
	    <div class="row">
	      <div class="label">&nbsp;</div>
	      <div class="field" tal:define="process_creation request/process_creation|nothing;"> 
		<input class="context" 
		       tabindex=""
		       type="submit" 
		       name="Change" 
                       i18n:attributes="value"
		       value="Save" 
		       tal:attributes="tabindex tabindex/next;" /> 
	      </div>
	    </div>
	    
      </form>

    </div>
    
  </body>
</html>
