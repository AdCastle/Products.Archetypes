<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US"
      lang="en-US"
      metal:use-macro="here/main_template/macros/master"
      i18n:domain="archetypes">

<body>

   <div metal:fill-slot="main">

    <h1 i18n:translate="heading_translations_item">
    Manage translations
    </h1>


    <form action="manage_translations" method="POST"
          tal:define="master_lang here/getMasterLanguage"
          tal:attributes="action python:here.absolute_url()+'/'+template.id">

      <table class="listing" id="sortable">
        <tr>
         <th>&nbsp;</th>
         <th i18n:translate="">language</th>
         <th i18n:translate="">state</th>
        </tr>
	<tr tal:repeat="lang here/getFilteredLanguages">
          <tal:block tal:define="lang_id python:lang[0];
                                 lang_title python:lang[1];">
	    <td>
	      <input type="checkbox" tal:attributes="name lang_id"/>
	    </td>
	    <td tal:condition="python:lang_id != master_lang"
		tal:content="string:${lang_title} (${lang_id})"/>
	    <td tal:condition="python:lang_id == master_lang">
		<b tal:content="string:${lang_title} (${lang_id})"/>
	    </td>
	    <td tal:content="python:here.getTranslationState(lang_id)">
	    </td>
          </tal:block>
	</tr>
      </table>

      <input type="hidden" name="form.submitted" value="1" />
      <input type="submit" class="context" value="delete" i18n:attributes="value"/>
      <input type="submit" name="setmaster" class="context" value="set master" 
             i18n:attributes="value"/>
    </form>
   </div>

</body>

</html>